ğŸ§© MÃ“DULO 2 â€“ IAM, CLI y SDK
ğŸ¯ Objetivo general

Dominar el acceso programÃ¡tico a AWS mediante IAM,
 configurar la CLI de forma segura y comenzar a 
 interactuar con AWS usando el SDK oficial.

ğŸ“š Clase 1 â€“ IntroducciÃ³n a IAM: usuarios, roles y polÃ­ticas
ğŸ¯ Objetivos

Entender quÃ© es IAM y cÃ³mo controla el acceso.

Diferenciar usuarios, roles, grupos y polÃ­ticas.

Crear tu primer usuario con acceso programÃ¡tico.

ğŸ“˜ Temas
1. Â¿QuÃ© es AWS IAM?

IAM = Identity and Access Management.

Sistema que controla:

Â¿QuiÃ©n eres? (identidad).

Â¿QuÃ© puedes hacer? (permisos).

Â¿En quÃ© recursos? (alcance).

2. Elementos centrales
Componente	DescripciÃ³n
User	Identidad para personas que acceden a consola o CLI
Group	Conjunto de usuarios con permisos compartidos
Role	Identidad que asumen apps, servicios o usuarios
Policy	Documento JSON que define permisos
3. Permisos basados en polÃ­ticas

Ejemplo de polÃ­tica Allow S3 List:

{
  "Effect": "Allow",
  "Action": ["s3:ListBucket"],
  "Resource": ["arn:aws:s3:::*"]
}

ğŸ§ª PrÃ¡ctica guiada â€“ Crear un usuario IAM seguro

Ve a IAM â†’ â€œUsersâ€ â†’ Create user

Nombre: curso-aws-dev

Tipo de acceso:

â˜‘ Programmatic access (CLI/SDK)

Crear grupo â€œDevelopersâ€

Adjuntar polÃ­tica AmazonS3FullAccess (solo para aprender, no para producciÃ³n)

Descargar .csv con Access Key / Secret Key

Guardar en lugar seguro

ğŸ“š Clase 2 â€“ Configurar AWS CLI y trabajar con comandos esenciales
ğŸ¯ Objetivos

Configurar AWS CLI con tus credenciales IAM.

Ejecutar comandos bÃ¡sicos contra S3, Lambda y STS.

Entender cÃ³mo administrar las credenciales locales.

ğŸ“˜ Temas
1. Configurar la CLI
aws configure


ParÃ¡metros:

Access Key ID

Secret Key

Region: us-east-1

Output: json

2. Comandos bÃ¡sicos para pruebas
aws sts get-caller-identity
aws s3 ls
aws lambda list-functions

3. Perfiles mÃºltiples (para trabajar con varias cuentas)
aws configure --profile dev
aws configure --profile prod

4. Archivos creados
~/.aws/credentials
~/.aws/config

ğŸ§ª PrÃ¡ctica guiada â€“ Trabajando con S3 desde CLI
Crear bucket
aws s3 mb s3://curso-aws-dev-bucket

Subir archivo
aws s3 cp archivo.txt s3://curso-aws-dev-bucket

Descargar archivo
aws s3 cp s3://curso-aws-dev-bucket/archivo.txt .

ğŸ“š Clase 3 â€“ IntroducciÃ³n a AWS SDK (Node.js, Python y C#)
ğŸ¯ Objetivos

Conectar una aplicaciÃ³n al SDK de AWS.

Hacer solicitudes reales: listar buckets, crear objetos, invocar Lambda.

ğŸ“˜ Temas
1. Â¿QuÃ© es el SDK?

LibrerÃ­as oficiales para acceder a AWS desde tu lenguaje.

Disponibles para:

Node.js

.NET

Python

Java

Go

Ruby

ğŸ”¸ Ejemplo en Node.js

Instalar:

npm install @aws-sdk/client-s3


CÃ³digo:

import { S3Client, ListBucketsCommand } from "@aws-sdk/client-s3";

const client = new S3Client({ region: "us-east-1" });

const run = async () => {
  const result = await client.send(new ListBucketsCommand());
  console.log(result.Buckets);
};

run();

ğŸ”¸ Ejemplo en .NET C#

Instalar:

dotnet add package AWSSDK.S3


CÃ³digo:

using Amazon.S3;
using Amazon.S3.Model;

var client = new AmazonS3Client(Amazon.RegionEndpoint.USEast1);
var response = await client.ListBucketsAsync();

foreach (var b in response.Buckets)
{
    Console.WriteLine(b.BucketName);
}

ğŸ”¸ Ejemplo en Python

Instalar:

pip install boto3


CÃ³digo:

import boto3

s3 = boto3.client('s3')
response = s3.list_buckets()

for b in response['Buckets']:
    print(b['Name'])

ğŸ§ª PrÃ¡ctica guiada â€“ Crear un objeto en S3 usando SDK
Node.js ejemplo:
import { S3Client, PutObjectCommand } from "@aws-sdk/client-s3";

const client = new S3Client({ region: "us-east-1" });

const run = async () => {
  await client.send(new PutObjectCommand({
    Bucket: "curso-aws-dev-bucket",
    Key: "hola.txt",
    Body: "Hola desde SDK!"
  }));

  console.log("Archivo subido!");
};

run();

ğŸ“š Clase 4 â€“ Roles IAM para Lambda, EC2 y aplicaciones
ğŸ¯ Objetivos

Entender por quÃ© las aplicaciones no deben usar credenciales permanentes.

Crear roles para Lambda y EC2.

Permitir que una Lambda acceda a S3 o DynamoDB.

ğŸ“˜ Temas
ğŸš« Malas prÃ¡cticas

Usar Access Keys dentro del cÃ³digo:

âŒ Expuesto en repositorios

âŒ Dificultad para rotar claves

âŒ Riesgo de seguridad alto

âœ” Buenas prÃ¡cticas

Usar roles:

Lambda â†’ Role con permisos

EC2 â†’ Role con polÃ­ticas adjuntas

ECS â†’ Task Role

ğŸ§ª PrÃ¡ctica guiada â€“ Rol IAM para que una Lambda lea S3

Crear rol para Lambda

Adjuntar polÃ­tica:

AmazonS3ReadOnlyAccess

Crear Lambda con ese rol

Probar que puede listar buckets:

CÃ³digo Lambda (Node):

const { S3Client, ListObjectsV2Command } = require("@aws-sdk/client-s3");
const client = new S3Client();

exports.handler = async () => {
    const result = await client.send(new ListObjectsV2Command({ Bucket: "curso-aws-dev-bucket" }));
    return result;
};

ğŸ“š Clase 5 â€“ Buenas prÃ¡cticas avanzadas de IAM para desarrolladores
ğŸ¯ Objetivos

Entender diseÃ±o profesional de permisos.

Conocer polÃ­ticas mÃ­nimas necesarias.

Aplicar el principio de least privilege.

ğŸ“˜ Temas

Evitar polÃ­ticas como AdministratorAccess.

Crear polÃ­ticas personalizadas.

Separar usuarios por ambientes (dev, qa, prod).

RotaciÃ³n automÃ¡tica de Access Keys.

Uso seguro de AWS CLI y perfiles.

AWS IAM Access Analyzer.

ğŸ§ª PrÃ¡ctica guiada â€“ Crear una polÃ­tica personalizada mÃ­nima
PolÃ­tica mÃ­nima para permitir solo subir archivos a un bucket especÃ­fico:
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": ["s3:PutObject"],
      "Resource": ["arn:aws:s3:::curso-aws-dev-bucket/*"]
    }
  ]
}

ğŸ“ Tarea final del mÃ³dulo

Crea un usuario IAM con acceso programÃ¡tico.

Configura la CLI con un perfil dev.

Escribe una app en Node, Python o C# que:

Liste buckets

Cree un archivo en S3

Lea los objetos dentro del bucket

Crea una Lambda con un rol IAM que pueda leer tu bucket.